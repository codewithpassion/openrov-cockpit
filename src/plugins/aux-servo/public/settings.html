<div id="auxServo-settings">
  <!-- Template -->
  <script type="text/html" id="aux-servo-template">
    <div>
      <h4>Aux servo <span data-bind="text: $data.name"></span>:</h4>
      <fieldset>
        <label class="checkbox">
          <input type="checkbox" data-bind="checked: $data.enabled">Enabled
        </label>
        <div class="row" data-bind="visible: $data.enabled">
          <div class="span5">
            <label class="textbox">
              Min degrees: <input type="number" class="input-small"  data-bind="value: $data.min">
            </label>

            <label class="textbox">
              Mid point degrees: <input type="number" class="input-small" data-bind="value: $data.midPoint">
            </label>

            <label class="textbox">
              Max degrees: <input type="number" class="input-small" data-bind="value: $data.max">
            </label>
          </div>

          <div class="span1">
            <a class="btn" data-bind="css: { disabled: ! $data.isChanged() }, click: $data.apply">Apply</a>
          </div>
          <span data-bind="fadeVisible: $data.showApllied"><i class="icon-ok" title="Applied!"></i> Applied!</span>

        </div>
        <div class="row">
          <div class="span1">
            <a class="btn btn-link" data-bind="click: $data.toggleTestVisible">Test</a>
          </div>

          <div class='span4 well' data-bind="visible: $data.showTest">
            <div class="row-fluid">
              <label class="span6">
                Value in degrees:
                <div class="input-append"><input type="number" class="input-small" data-bind="value: $data.testValue">
                  <button class="btn" type="button" data-bind="click: $data.executeTest">Test</button>
                </div>
              </label>
              <span class="span6" data-bind="fadeVisible: $data.isExecuted"><i class="icon-ok" title="Executed!"></i> Executed!</span>
            </div>
            <label class="span12 checkbox" title="Automatically apply test value">
              <input type="checkbox" data-bind="checked: $data.liveTest">Live test
            </label>
          </div>
        </div>
      </fieldset>
    </div>
  </script>

  <!-- Settings -->
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#plugin-settings" href="#collapseAuxServo">
        Auxiliary servos
      </a>
    </div>
    <div id="collapseAuxServo" class="accordion-body collapse">
      <div class="accordion-inner">
        <div>
          <div data-bind="template: { name: 'aux-servo-template', foreach: servos }">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>